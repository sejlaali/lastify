{"ast":null,"code":"var _jsxFileName = \"/Users/sejlaali/General_Assembly/sei/05-week/05-friday/Project2/project2/react-project2/src/Components/OneResult.jsx\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\nimport \"./Components.css\";\nimport { Link } from \"react-router-dom\";\ndotenv.config();\nlet key = process.env.REACT_APP_API_KEY;\n\nclass OneResult extends Component {\n  constructor(props) {\n    super(props);\n\n    this.errorImg = evt => {\n      evt.target.src = \"https://images.pexels.com/photos/167092/pexels-photo-167092.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=60&w=120\";\n    };\n\n    this.state = {\n      name: \"\",\n      info: \"\",\n      img: \"\"\n    };\n    this.getResults = this.getResults.bind(this);\n    this.getResults();\n  }\n\n  async getResults() {\n    const artistName = this.props.location.state.option === \"artist\" ? this.props.location.state.inputVal : this.props.location.state.songInputValue;\n    let res = await axios.get(\"http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=\".concat(artistName, \"&api_key=\").concat(key, \"&format=json\"));\n    const infoWithLink = res.data.artist.bio.content;\n    const info = infoWithLink.replace(\"<a href=\\\"https://www.last.fm/music/\".concat(res.data.artist.name, \"\\\">Read more on Last.fm</a>. User-contributed text is available under the Creative Commons By-SA License; additional terms may apply.\"), \"\");\n    this.setState({\n      name: res.data.artist.name,\n      info\n    });\n    axios.get(\"https://itunes.apple.com/search?term=\".concat(artistName)).then(res => this.setState({\n      img: res.data.results[0].artworkUrl100\n    }));\n  }\n\n  render() {\n    let info = this.state.info === \"\" ? React.createElement(\"h5\", {\n      className: \"artist-info-empty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"No info available for this artist.\") : React.createElement(\"h5\", {\n      className: \"artist-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, this.state.info);\n    return React.createElement(\"div\", {\n      id: \"one-result-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.name), React.createElement(\"img\", {\n      src: this.state.img,\n      onError: this.errorImg,\n      alt: \"album\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }), info, React.createElement(Link, {\n      to: \"/homepage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons back-home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"keyboard_arrow_left\")));\n  }\n\n}\n\nexport default OneResult;","map":{"version":3,"sources":["/Users/sejlaali/General_Assembly/sei/05-week/05-friday/Project2/project2/react-project2/src/Components/OneResult.jsx"],"names":["React","Component","axios","dotenv","Link","config","key","process","env","REACT_APP_API_KEY","OneResult","constructor","props","errorImg","evt","target","src","state","name","info","img","getResults","bind","artistName","location","option","inputVal","songInputValue","res","get","infoWithLink","data","artist","bio","content","replace","setState","then","results","artworkUrl100","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAO,kBAAP;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEAD,MAAM,CAACE,MAAP;AACA,IAAIC,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,iBAAtB;;AAEA,MAAMC,SAAN,SAAwBT,SAAxB,CAAkC;AAChCU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAuCnBC,QAvCmB,GAuCRC,GAAG,IAAI;AAChBA,MAAAA,GAAG,CAACC,MAAJ,CAAWC,GAAX,GACF,6GADE;AAEC,KA1CgB;;AAGjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,GAAG,EAAE;AAHM,KAAb;AAKA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKD,UAAL;AACD;;AAED,QAAMA,UAAN,GAAmB;AACjB,UAAME,UAAU,GACd,KAAKX,KAAL,CAAWY,QAAX,CAAoBP,KAApB,CAA0BQ,MAA1B,KAAqC,QAArC,GACI,KAAKb,KAAL,CAAWY,QAAX,CAAoBP,KAApB,CAA0BS,QAD9B,GAEI,KAAKd,KAAL,CAAWY,QAAX,CAAoBP,KAApB,CAA0BU,cAHhC;AAIA,QAAIC,GAAG,GAAG,MAAM1B,KAAK,CAAC2B,GAAN,0EACoDN,UADpD,sBAC0EjB,GAD1E,kBAAhB;AAGA,UAAMwB,YAAY,GAAGF,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgBC,GAAhB,CAAoBC,OAAzC;AACA,UAAMf,IAAI,GAAGW,YAAY,CAACK,OAAb,+CAETP,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgBd,IAFP,4IAIX,EAJW,CAAb;AAMA,SAAKkB,QAAL,CAAc;AACZlB,MAAAA,IAAI,EAAEU,GAAG,CAACG,IAAJ,CAASC,MAAT,CAAgBd,IADV;AAEZC,MAAAA;AAFY,KAAd;AAKAjB,IAAAA,KAAK,CAAC2B,GAAN,gDAAkDN,UAAlD,GAAgEc,IAAhE,CAAqET,GAAG,IACtE,KAAKQ,QAAL,CAAc;AACZhB,MAAAA,GAAG,EAAEQ,GAAG,CAACG,IAAJ,CAASO,OAAT,CAAiB,CAAjB,EAAoBC;AADb,KAAd,CADF;AAKD;;AAODC,EAAAA,MAAM,GAAG;AACP,QAAIrB,IAAI,GACN,KAAKF,KAAL,CAAWE,IAAX,KAAoB,EAApB,GACE;AAAI,MAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADF,GAKE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6B,KAAKF,KAAL,CAAWE,IAAxC,CANJ;AAQA,WACE;AAAK,MAAA,EAAE,EAAC,gBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKF,KAAL,CAAWC,IAAhB,CADF,EAEE;AAAK,MAAA,GAAG,EAAE,KAAKD,KAAL,CAAWG,GAArB;AAA0B,MAAA,OAAO,EAAE,KAAKP,QAAxC;AAAkD,MAAA,GAAG,EAAC,OAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGGM,IAHH,EAIE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,SAAS,EAAC,0BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CAJF,CADF;AAUD;;AAhE+B;;AAmElC,eAAeT,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\nimport \"./Components.css\";\nimport { Link } from \"react-router-dom\";\n\ndotenv.config();\nlet key = process.env.REACT_APP_API_KEY;\n\nclass OneResult extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      info: \"\",\n      img: \"\"\n    };\n    this.getResults = this.getResults.bind(this);\n    this.getResults();\n  }\n\n  async getResults() {\n    const artistName =\n      this.props.location.state.option === \"artist\"\n        ? this.props.location.state.inputVal\n        : this.props.location.state.songInputValue;\n    let res = await axios.get(\n      `http://ws.audioscrobbler.com/2.0/?method=artist.getinfo&artist=${artistName}&api_key=${key}&format=json`\n    );\n    const infoWithLink = res.data.artist.bio.content;\n    const info = infoWithLink.replace(\n      `<a href=\"https://www.last.fm/music/${\n        res.data.artist.name\n      }\">Read more on Last.fm</a>. User-contributed text is available under the Creative Commons By-SA License; additional terms may apply.`,\n      \"\"\n    );\n    this.setState({\n      name: res.data.artist.name,\n      info\n    });\n\n    axios.get(`https://itunes.apple.com/search?term=${artistName}`).then(res =>\n      this.setState({\n        img: res.data.results[0].artworkUrl100\n      })\n    );\n  }\n\n  errorImg = evt => {\n    evt.target.src =\n  \"https://images.pexels.com/photos/167092/pexels-photo-167092.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=60&w=120\"\n    };\n\n  render() {\n    let info =\n      this.state.info === \"\" ? (\n        <h5 className=\"artist-info-empty\">\n          No info available for this artist.\n        </h5>\n      ) : (\n        <h5 className=\"artist-info\">{this.state.info}</h5>\n      );\n    return (\n      <div id=\"one-result-div\">\n        <h1>{this.state.name}</h1>\n        <img src={this.state.img} onError={this.errorImg} alt=\"album\" />\n        {info}\n        <Link to=\"/homepage\">\n          <i className=\"material-icons back-home\">keyboard_arrow_left</i>\n        </Link>\n      </div>\n    );\n  }\n}\n\nexport default OneResult;\n"]},"metadata":{},"sourceType":"module"}